<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Initialization • uwot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Initialization">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">uwot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/uwot.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jlmelville/uwot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Initialization</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jlmelville/uwot/blob/master/vignettes/articles/init.Rmd" class="external-link"><code>vignettes/articles/init.Rmd</code></a></small>
      <div class="d-none name"><code>init.Rmd</code></div>
    </div>

    
    
<p><em>December 27 2024</em>: Updated to use <code>umap2</code> and with
better images.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The default initialization for UMAP uses the eigenvectors of a
normalized graph Laplacian of the sparse affinity matrix. This normally
works well except when:</p>
<ul>
<li>The graph has disconnected components, in which case you really have
multiple separate graphs. In <code>uwot</code>, there is a risk that the
<a href="https://cran.r-project.org/package=RSpectra" class="external-link">RSpectra</a> can
have trouble converging under these circumstances.</li>
<li>Even with a connected graph, there can sometimes be convergence
issues, which I have tried to mitigate. However, there is a still a risk
of a very long initialization, and possibly a hang. Unfortunately,
interrupting RSpectra can result in requiring the entire R session to be
lost.</li>
</ul>
<div class="section level3">
<h3 id="pca-initialization">PCA Initialization<a class="anchor" aria-label="anchor" href="#pca-initialization"></a>
</h3>
<p>An alternative to using the spectral initialization is to use PCA,
although depending on the scaling of your input variables, this could
lead to a quite spread-out initial set of coordinates, which can be hard
to optimize. For the related technique t-SNE, <a href="https://www.biorxiv.org/content/10.1101/453449v1" class="external-link">Kobak and
Berens</a> recommend scaling the PCA results so that the standard
deviation for each dimension is <code>1e-4</code>. You can get that
behavior in <code>uwot</code> by using the <code>umap</code> function
with <code>init = "spca"</code> or <code>umap2</code> with
<code>init = "spca", init_sdev = 1e-4</code>.</p>
</div>
<div class="section level3">
<h3 id="changes-with-umap2">Changes with <code>umap2</code><a class="anchor" aria-label="anchor" href="#changes-with-umap2"></a>
</h3>
<p>Based on some years of experience, the <code>umap2</code> function
has some slightly different defaults which I recommend over
<code>umap</code>. For more on the <code>umap2</code> function, see the
<a href="https://jlmelville.github.io/uwot/articles/umap2.html">umap2
article</a>. But I recommend using <code>init = "pca"</code>. At some
point after I wrote <code>uwot</code> (or I just never noticed), the
Python UMAP package added an extra scaling of coordinates so that they
are contained in a bounding box of side length 10. This is now the
default with <code>umap2</code> and seems to work pretty well.</p>
<p>All the results shown on this page now use <code>umap2</code>.</p>
</div>
<div class="section level3">
<h3 id="if-you-are-still-using-umap">If you are still using <code>umap</code><a class="anchor" aria-label="anchor" href="#if-you-are-still-using-umap"></a>
</h3>
<p>If you are still using <code>umap</code>, then the
<code>init = "spca"</code> option there works ok, but the standard
deviation of <code>1e-4</code> may be too small for some datasets. If
you see results where you are suspicious that clusters are being broken
up, I recommend trying with value of <code>init_sdev</code> of
<code>1e-2</code>, <code>1</code> or <code>2.5</code>. If you want to
use the Python UMAP-style scaling with <code>umap</code>, you can get it
by setting <code>init_sdev = "range"</code>, and is probably the best
choice.</p>
</div>
<div class="section level3">
<h3 id="the-approximate-global-spectral-initialization">The Approximate Global Spectral Initialization<a class="anchor" aria-label="anchor" href="#the-approximate-global-spectral-initialization"></a>
</h3>
<p>PCA is a solid choice for initialization when spectral embedding
fails. But using PCA ignores the information in the affinity matrix that
might be useful for initialization: for example, when using supervised
UMAP or mixing different types of distance metrics. And conceptually,
using the affinity matrix has a lot of appeal. Dzwinel and co-workers
describe a very fast multi-dimensional scaling-like method called <a href="https://arxiv.org/abs/1902.01108" class="external-link">ivhd</a> which generates a
connected graph, by only knowing only a few neighbor and non-neighbor
points and pretending the target distances are 0 and 1, respectively.
Similar theoretical support for this is given by <a href="https://arxiv.org/abs/1711.04712" class="external-link">Linderman and co-workers</a>. On
the basis of this work, I have implemented an “approximate global”
spectral method of initialization: which is a very minor modification of
the standard spectral initialization:</p>
<ul>
<li>All non-zero elements of the affinity matrix are set to 1.</li>
<li>A random number of the zero elements are set to 0.1, at a rate of
<code>n_neg_samples</code> for each positive edge in the graph. This is
consistent with the ratio of neighbor to non-neighbor edge sampling
during optimization and, if using a default value of
<code>n_neg_samples</code>, is a similar order of magnitude as the ratio
of neighbor to non-neighbor entries in the graph that is used with
ivhd.</li>
<li>Theoretically, this should be enough to guarantee a graph with a
single component. The spectral initialization is carried out.</li>
<li>After initialization, the original affinity matrix is used for
optimization.</li>
</ul>
<p>You can get this behavior in uwot with
<code>init = "agspectral"</code>.</p>
</div>
<div class="section level3">
<h3 id="laplacian-eigenmap">Laplacian Eigenmap<a class="anchor" aria-label="anchor" href="#laplacian-eigenmap"></a>
</h3>
<p>Another option for a connected graph is to use a variation on the
normalization used in the graph Laplacian to get something close to <a href="https://doi.org/10.1162/089976603321780317" class="external-link">Laplacian Eigenmap</a>
with <code>init = "laplacian"</code>. In <a href="http://www.kyb.mpg.de/fileadmin/user_upload/files/publications/attachments/luxburg06_TR_v2_4139%5b1%5d.pdf" class="external-link">Luxburg’s
spectral clustering tutorial (PDF)</a> this form of normalization is
recommended over that used in the <code>init = "spectral"</code>
normalization. So we’ll try it here and see if it makes any
difference.</p>
</div>
<div class="section level3">
<h3 id="random-initialization">Random Initialization<a class="anchor" aria-label="anchor" href="#random-initialization"></a>
</h3>
<p>If all else fails, you can use random initialization. In the spirit
of generosity, <code>uwot</code> offers two types of random
initialization. The first is that used by UMAP, which uses a random
uniform distribution between -10 and +10 along each axis. You can get
this with <code>init = "rand"</code>. Alternatively, there is the method
favoured by LargeVis (and used by default with <code>lvish</code>),
which is to use a Gaussian distribution with standard deviation 1e-4.
This is also the method used by t-SNE. You can get this by setting
<code>init = "lvrand"</code>.</p>
<p>To summarize your options:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default initialization: use spectral initialization if possible</span></span>
<span><span class="co"># falling back to scaled PCA if multiple components are found in the graph</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># same as the above</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"spectral"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># use (scaled) PCA: defaults are different between umap and umap2</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"pca"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># If you want to use `umap` then you can use the following:</span></span>
<span><span class="co"># umap with default scaled PCA</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap.html">umap</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"spca"</span><span class="op">)</span></span>
<span><span class="co"># equivalent to:</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap.html">umap</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"pca"</span>, init_sdev <span class="op">=</span> <span class="fl">1e-4</span><span class="op">)</span></span>
<span><span class="co"># but this might be a better choice of settings</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap.html">umap</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"pca"</span>, init_sdev <span class="op">=</span> <span class="st">"range"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># use an "approximate global" spectral initialization that should be applicable</span></span>
<span><span class="co"># even under conditions where "spectral" fails and has to use spca</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"agspectral"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># use a Laplacian Eigenmap style initialization, which will also fall back to</span></span>
<span><span class="co"># spca if it has to</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"laplacian"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># use random initialization, UMAP style</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"rand"</span><span class="op">)</span></span>
<span><span class="co"># use random initialization, t-SNE/LargeVis style</span></span>
<span><span class="va">embedding</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">data</span>, init <span class="op">=</span> <span class="st">"lvrand"</span><span class="op">)</span></span></code></pre></div>
<p>Below, we’ll explore the effect of these settings. For more details
on the datasets, see the <a href="https://jlmelville.github.io/uwot/articles/umap-examples.html">examples</a>
page.</p>
<p>Apart from changing <code>init</code>, mainly default settings where
used. To save a bit of time, I used pre-calculated exact nearest
neighbors, but I don’t expect that to have a major effect on the
results. Some typical commands using the <code>iris</code> dataset would
be:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1337</span><span class="op">)</span></span>
<span><span class="co"># Using the `umap` function with spca initialization</span></span>
<span><span class="va">iris_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap.html">umap</a></span><span class="op">(</span><span class="va">iris</span>, init <span class="op">=</span> <span class="st">"spca"</span><span class="op">)</span></span>
<span><span class="co"># Using the `umap2` with agspectral with slightly different (and hopefully</span></span>
<span><span class="co"># better) defaults</span></span>
<span><span class="va">iris_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">iris</span>, init <span class="op">=</span> <span class="st">"agspectral"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="datasets">Datasets<a class="anchor" aria-label="anchor" href="#datasets"></a>
</h2>
<p>For details see the <a href="https://jlmelville.github.io/uwot/articles/umap-examples.html">examples
article</a>.</p>
</div>
<div class="section level2">
<h2 id="spectral-vs-pca">Spectral vs PCA<a class="anchor" aria-label="anchor" href="#spectral-vs-pca"></a>
</h2>
<p>Below are some examples of using either the PCA initialization or a
spectral approach. On the first row, the left-hand image is the result
of using <code>init = "pca"</code>, and the right-hand image is
<code>init = "agspectral"</code>. On the second row, the left-hand image
is for <code>init = "spectral"</code>. and the right-hand image is
<code>init = "laplacian"</code>. Some datasets don’t have the second row
of images, because with the settings used here, they generate more than
one component in the graph, and therefore both
<code>init = "spectral"</code> and <code>init = "laplacian"</code> would
fall back to similar results as seen with <code>init = "pca"</code>.</p>
<div class="section level3">
<h3 id="iris">iris<a class="anchor" aria-label="anchor" href="#iris"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Firis-pca.png" alt="iris pca"></td>
<td align="center"><img src="img%2Finit%2Firis-agspectral.png" alt="iris agspectral"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="s1k">s1k<a class="anchor" aria-label="anchor" href="#s1k"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fs1k-pca.png" alt="s1k pca"></td>
<td align="center"><img src="img%2Finit%2Fs1k-agspectral.png" alt="s1k agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fs1k-spectral.png" alt="s1k spectral"></td>
<td align="center"><img src="img%2Finit%2Fs1k-laplacian.png" alt="s1k laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="olivetti">olivetti<a class="anchor" aria-label="anchor" href="#olivetti"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Folivetti-pca.png" alt="olivetti pca"></td>
<td align="center"><img src="img%2Finit%2Folivetti-agspectral.png" alt="olivetti agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Folivetti-spectral.png" alt="olivetti spectral"></td>
<td align="center"><img src="img%2Finit%2Folivetti-laplacian.png" alt="olivetti laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="frey">frey<a class="anchor" aria-label="anchor" href="#frey"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffrey-pca.png" alt="frey pca"></td>
<td align="center"><img src="img%2Finit%2Ffrey-agspectral.png" alt="frey agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffrey-spectral.png" alt="frey spectral"></td>
<td align="center"><img src="img%2Finit%2Ffrey-laplacian.png" alt="frey laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="coil20">coil20<a class="anchor" aria-label="anchor" href="#coil20"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fcoil20-pca.png" alt="coil20 pca"></td>
<td align="center"><img src="img%2Finit%2Fcoil20-agspectral.png" alt="coil20 agspectral"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="coil100">coil100<a class="anchor" aria-label="anchor" href="#coil100"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fcoil100-pca.png" alt="coil100 pca"></td>
<td align="center"><img src="img%2Finit%2Fcoil100-agspectral.png" alt="coil100 agspectral"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="mnist">mnist<a class="anchor" aria-label="anchor" href="#mnist"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmnist-pca.png" alt="mnist pca"></td>
<td align="center"><img src="img%2Finit%2Fmnist-agspectral.png" alt="mnist agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmnist-spectral.png" alt="mnist spectral"></td>
<td align="center"><img src="img%2Finit%2Fmnist-laplacian.png" alt="mnist laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="fashion">fashion<a class="anchor" aria-label="anchor" href="#fashion"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffashion-pca.png" alt="fashion pca"></td>
<td align="center"><img src="img%2Finit%2Ffashion-agspectral.png" alt="fashion agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffashion-spectral.png" alt="fashion spectral"></td>
<td align="center"><img src="img%2Finit%2Ffashion-laplacian.png" alt="fashion laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="kuzushiji">kuzushiji<a class="anchor" aria-label="anchor" href="#kuzushiji"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fkuzushiji-pca.png" alt="kuzushiji pca"></td>
<td align="center"><img src="img%2Finit%2Fkuzushiji-agspectral.png" alt="kuzushiji agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fkuzushiji-spectral.png" alt="kuzushiji spectral"></td>
<td align="center"><img src="img%2Finit%2Fkuzushiji-laplacian.png" alt="kuzushiji laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="norb">norb<a class="anchor" aria-label="anchor" href="#norb"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fnorb-pca.png" alt="norb pca"></td>
<td align="center"><img src="img%2Finit%2Fnorb-agspectral.png" alt="norb agspectral"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="tasic2018">tasic2018<a class="anchor" aria-label="anchor" href="#tasic2018"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ftasic2018-pca.png" alt="tasic2018 pca"></td>
<td align="center"><img src="img%2Finit%2Ftasic2018-agspectral.png" alt="tasic2018 agspectral"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="macosko2015pca100">macosko2015pca100<a class="anchor" aria-label="anchor" href="#macosko2015pca100"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-pca.png" alt="macosko2015pca100 pca"></td>
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-agspectral.png" alt="macosko2015pca100 agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-spectral.png" alt="macosko2015pca100 spectral"></td>
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-laplacian.png" alt="macosko2015pca100 laplacian"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="isoswiss">isoswiss<a class="anchor" aria-label="anchor" href="#isoswiss"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">pca</th>
<th align="center">agspectral</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fisoswiss-pca.png" alt="isoswiss pca"></td>
<td align="center"><img src="img%2Finit%2Fisoswiss-agspectral.png" alt="isoswiss agspectral"></td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">spectral</th>
<th align="center">laplacian</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fisoswiss-spectral.png" alt="isoswiss spectral"></td>
<td align="center"><img src="img%2Finit%2Fisoswiss-laplacian.png" alt="isoswiss laplacian"></td>
</tr></tbody>
</table>
<p>There are really only minor differences between the PCA results and
the spectral results in <em>most</em> cases.</p>
<p>The big difference occurs with <code>isoswiss</code>. This shows the
Achilles heel of PCA for initialization: it does not have any respect
for manifolds. Where spectral initialization is able to “unfold” the
structure, PCA leaves it folded up and the projection onto 2D leaves it
broken up into three pieces.</p>
<p>In most (but not all) cases, the <code>agspectral</code> results are
very similar to the <code>spectral</code> results. Again
<code>isoswiss</code> shows the limitations of the method. Like with
PCA, the manifold has not been initialized properly and some unpleasant
breakage occurs. There are certainly worse ways to initialize this
dataset though, as we shall see below. I don’t think the results here
are a fundamental limitation of the <code>agspectral</code> approach,
but the balance of the random vs near neighbor affinities may not be
ideal for this dataset.</p>
<p>The <code>laplacian</code> results also strongly resemble the
spectral initialization, and where they differ it’s not obvious to me if
one is strictly better than the other, so in terms of initialization for
UMAP, there doesn’t seem to be a strong advantage for using one type of
graph Laplacian over the other.</p>
</div>
</div>
<div class="section level2">
<h2 id="random-initialization-rand">Random Initialization: <code>rand</code><a class="anchor" aria-label="anchor" href="#random-initialization-rand"></a>
</h2>
<p>Below are two results each from using random initialization, so you
can get a sense for how much variation you can expect from getting lucky
or not with the initialization.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># left-hand plots used this seed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1337</span><span class="op">)</span></span>
<span><span class="co"># right-hand plots used this seed</span></span>
<span><span class="co"># set.seed(42)</span></span>
<span><span class="va">iris_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap.html">umap</a></span><span class="op">(</span><span class="va">iris</span>, init <span class="op">=</span> <span class="st">"rand"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="iris-1">iris<a class="anchor" aria-label="anchor" href="#iris-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Firis-rand1337.png" alt="iris rand1337"></td>
<td align="center"><img src="img%2Finit%2Firis-rand42.png" alt="iris rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="s1k-1">s1k<a class="anchor" aria-label="anchor" href="#s1k-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fs1k-rand1337.png" alt="s1k rand1337"></td>
<td align="center"><img src="img%2Finit%2Fs1k-rand42.png" alt="s1k rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="olivetti-1">olivetti<a class="anchor" aria-label="anchor" href="#olivetti-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Folivetti-rand1337.png" alt="olivetti rand1337"></td>
<td align="center"><img src="img%2Finit%2Folivetti-rand42.png" alt="olivetti rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="frey-1">frey<a class="anchor" aria-label="anchor" href="#frey-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffrey-rand1337.png" alt="frey rand1337"></td>
<td align="center"><img src="img%2Finit%2Ffrey-rand42.png" alt="frey rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="coil20-1">coil20<a class="anchor" aria-label="anchor" href="#coil20-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fcoil20-rand1337.png" alt="coil20 rand1337"></td>
<td align="center"><img src="img%2Finit%2Fcoil20-rand42.png" alt="coil20 rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="coil100-1">coil100<a class="anchor" aria-label="anchor" href="#coil100-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fcoil100-rand1337.png" alt="coil100 rand1337"></td>
<td align="center"><img src="img%2Finit%2Fcoil100-rand42.png" alt="coil100 rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="mnist-1">mnist<a class="anchor" aria-label="anchor" href="#mnist-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmnist-rand1337.png" alt="mnist rand1337"></td>
<td align="center"><img src="img%2Finit%2Fmnist-rand42.png" alt="mnist rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="fashion-1">fashion<a class="anchor" aria-label="anchor" href="#fashion-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffashion-rand1337.png" alt="fashion rand1337"></td>
<td align="center"><img src="img%2Finit%2Ffashion-rand42.png" alt="fashion rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="kuzushiji-1">kuzushiji<a class="anchor" aria-label="anchor" href="#kuzushiji-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fkuzushiji-rand1337.png" alt="kuzushiji rand1337"></td>
<td align="center"><img src="img%2Finit%2Fkuzushiji-rand42.png" alt="kuzushiji rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="norb-1">norb<a class="anchor" aria-label="anchor" href="#norb-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fnorb-rand1337.png" alt="norb rand1337"></td>
<td align="center"><img src="img%2Finit%2Fnorb-rand42.png" alt="norb rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="tasic2018-1">tasic2018<a class="anchor" aria-label="anchor" href="#tasic2018-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ftasic2018-rand1337.png" alt="tasic2018 rand1337"></td>
<td align="center"><img src="img%2Finit%2Ftasic2018-rand42.png" alt="tasic2018 rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="macosko2015pca100-1">macosko2015pca100<a class="anchor" aria-label="anchor" href="#macosko2015pca100-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-rand1337.png" alt="macosko2015pca100 rand1337"></td>
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-rand42.png" alt="macosko2015pca100 rand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="isoswiss-1">isoswiss<a class="anchor" aria-label="anchor" href="#isoswiss-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fisoswiss-rand1337.png" alt="isoswiss rand1337"></td>
<td align="center"><img src="img%2Finit%2Fisoswiss-rand42.png" alt="isoswiss rand42"></td>
</tr></tbody>
</table>
<p>Results are not terrible for the smaller datasets, but for anything
<code>mnist</code>-sized, we start to see broken-up clusters. And oof,
<code>isoswiss</code> is a disaster.</p>
</div>
</div>
<div class="section level2">
<h2 id="random-initialization-lvrand">Random Initialization: <code>lvrand</code><a class="anchor" aria-label="anchor" href="#random-initialization-lvrand"></a>
</h2>
<p>And here is the result of using random initialization in the
t-SNE/LargeVis style, which use a Gaussian distribution over a much
smaller initial range of coordinate values. Will it make much
difference?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># left-hand plots used this seed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1337</span><span class="op">)</span></span>
<span><span class="co"># right-hand plots used this seed</span></span>
<span><span class="co"># set.seed(42)</span></span>
<span><span class="va">iris_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/umap.html">umap</a></span><span class="op">(</span><span class="va">iris</span>, init <span class="op">=</span> <span class="st">"lvrand"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="iris-2">iris<a class="anchor" aria-label="anchor" href="#iris-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Firis-lvrand1337.png" alt="iris lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Firis-lvrand42.png" alt="iris lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="s1k-2">s1k<a class="anchor" aria-label="anchor" href="#s1k-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fs1k-lvrand1337.png" alt="s1k lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fs1k-lvrand42.png" alt="s1k lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="olivetti-2">olivetti<a class="anchor" aria-label="anchor" href="#olivetti-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Folivetti-lvrand1337.png" alt="olivetti lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Folivetti-lvrand42.png" alt="olivetti lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="frey-2">frey<a class="anchor" aria-label="anchor" href="#frey-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffrey-lvrand1337.png" alt="frey lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Ffrey-lvrand42.png" alt="frey lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="coil20-2">coil20<a class="anchor" aria-label="anchor" href="#coil20-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fcoil20-lvrand1337.png" alt="coil20 lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fcoil20-lvrand42.png" alt="coil20 lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="coil100-2">coil100<a class="anchor" aria-label="anchor" href="#coil100-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fcoil100-lvrand1337.png" alt="coil100 lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fcoil100-lvrand42.png" alt="coil100 lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="mnist-2">mnist<a class="anchor" aria-label="anchor" href="#mnist-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmnist-lvrand1337.png" alt="mnist lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fmnist-lvrand42.png" alt="mnist lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="fashion-2">fashion<a class="anchor" aria-label="anchor" href="#fashion-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ffashion-lvrand1337.png" alt="fashion lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Ffashion-lvrand42.png" alt="fashion lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="kuzushiji-2">kuzushiji<a class="anchor" aria-label="anchor" href="#kuzushiji-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fkuzushiji-lvrand1337.png" alt="kuzushiji lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fkuzushiji-lvrand42.png" alt="kuzushiji lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="norb-2">norb<a class="anchor" aria-label="anchor" href="#norb-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fnorb-lvrand1337.png" alt="norb lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fnorb-lvrand42.png" alt="norb lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="tasic2018-2">tasic2018<a class="anchor" aria-label="anchor" href="#tasic2018-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Ftasic2018-lvrand1337.png" alt="tasic2018 lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Ftasic2018-lvrand42.png" alt="tasic2018 lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="macosko2015pca100-2">macosko2015pca100<a class="anchor" aria-label="anchor" href="#macosko2015pca100-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-lvrand1337.png" alt="macosko2015pca100 lvrand1337"></td>
<td align="center"><img src="img%2Finit%2Fmacosko2015pca100-lvrand42.png" alt="macosko2015pca100 lvrand42"></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="isoswiss-2">isoswiss<a class="anchor" aria-label="anchor" href="#isoswiss-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="center">seed = 1337</th>
<th align="center">seed = 42</th>
</tr></thead>
<tbody><tr class="odd">
<td align="center"><img src="img%2Finit%2Fisoswiss-rand1337.png" alt="isoswiss rand1337"></td>
<td align="center"><img src="img%2Finit%2Fisoswiss-rand42.png" alt="isoswiss rand42"></td>
</tr></tbody>
</table>
<p>No, it doesn’t make a huge difference.</p>
</div>
</div>
<div class="section level2">
<h2 id="recommendations">Recommendations<a class="anchor" aria-label="anchor" href="#recommendations"></a>
</h2>
<p>The default spectral initialization does a good job. If for some
reason you can’t use it, for example due to disconnections, then
<code>init = "pca"</code> is a good choice. The one exception is with
data where you think you have a manifold structure. In that case, you
would hope that you have a connected graph, in which case you won’t need
to use PCA.</p>
<p>I would love to say that <code>agspectral</code> can help you out if
you are having difficulty with a slow spectral initialization, and in
general it seems useful, but it may not work well with manifold data.
The <code>laplacian</code> initialization does not provide a meaningful
difference to the spectral initialization based on the results shown
here.</p>
<p>Random initialization should be used only as a last resort.
Increasing <code>n_neighbors</code> can sometimes help a bit, but you
may need to set it to a very high value (e.g. 150) and that may
introduce long-distance interactions that doesn’t represent your
data.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Melville.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
