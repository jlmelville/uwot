<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>UMAP on some simple datasets • uwot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="UMAP on some simple datasets">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">uwot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/uwot.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jlmelville/uwot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>UMAP on some simple datasets</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jlmelville/uwot/blob/master/vignettes/articles/umap-simple.Rmd" class="external-link"><code>vignettes/articles/umap-simple.Rmd</code></a></small>
      <div class="d-none name"><code>umap-simple.Rmd</code></div>
    </div>

    
    
<p>The distill publication <a href="https://distill.pub/2016/misread-tsne/" class="external-link">How to Use t-SNE
Effectively</a> provides some interactive examples of t-SNE on a variety
of simple datasets and demonstrates the effect of changing its
hyperparameters, mainly the perplexity, which acts like a continuous
version of the <code>n_neighbors</code> parameter in UMAP.</p>
<p>Below, I will repeat some results using UMAP instead of t-SNE, which
might highlight some differences between the two methods. Sadly, there
won’t be any fancy in-browser interactive demos.</p>
<p>The datasets used in the distill publication are available translated
to R in the <a href="https://github.com/jlmelville/snedata" class="external-link">snedata</a>
package.</p>
<p>UMAP results are all run with the <code>n_neighbors</code> parameter
set to match the <code>perplexity</code> used in t-SNE all other
parameters left at their default values. There are two minor exceptions:
in UMAP, a point is a neighbor of itself, which isn’t the case with
perplexity. This doesn’t make much difference for large perplexities,
but for the low perplexity values of 2 and 5, I use
<code>n_neighbors = 3</code> and <code>n_neighbors = 6</code>,
respectively.</p>
<p>I won’t repeat the t-SNE results here. You should refer back to the
distill page to compare. I have kept the same order of datasets and used
the same colors so it should be straightforward to keep things
tracked.</p>
<div class="section level2">
<h2 id="grid">Grid<a class="anchor" aria-label="anchor" href="#grid"></a>
</h2>
<p>A 2D grid with regularly spaced points.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grid2d</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">grid_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<p><img src="img%2Fsimple%2Fgrid2d.png"></p>
<p>Like t-SNE, UMAP tends to expand denser regions of data, so there is
a bigger gap between points in the middle of the grid.</p>
</div>
<div class="section level2">
<h2 id="clusters">2 Clusters<a class="anchor" aria-label="anchor" href="#clusters"></a>
</h2>
<p>Two 2D Gaussian clusters of equal variance, and 50 points each.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss2d</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">two_clusters_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span>, dim <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss2d_orig.png" alt="gauss2d orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss2d_nbrs3.png" alt="gauss2d nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss2d_nbrs6.png" alt="gauss2d nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss2d_nbrs30.png" alt="gauss2d nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss2d_nbrs50.png" alt="gauss2d nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss2d_nbrs100.png" alt="gauss2d nbrs100"></td>
</tr>
</tbody>
</table>
<p>Setting <code>n_neighbors</code> too low clearly gives results which
are too local.</p>
</div>
<div class="section level2">
<h2 id="cluster-densities">Cluster Densities<a class="anchor" aria-label="anchor" href="#cluster-densities"></a>
</h2>
<p>In this example, one of the clusters (the yellow one) is much denser
(and hence smaller) than the other.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss2d_scale</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">two_different_clusters_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">75</span>, scale <span class="op">=</span> <span class="fl">10</span>, dim <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss_scale_orig.png" alt="gauss_scale orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_scale_nbrs3.png" alt="gauss_scale nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_scale_nbrs6.png" alt="gauss_scale nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss_scale_nbrs30.png" alt="gauss_scale nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_scale_nbrs50.png" alt="gauss_scale nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_scale_nbrs100.png" alt="gauss_scale nbrs100"></td>
</tr>
</tbody>
</table>
<p>Again like t-SNE, UMAP does not reproduce the relative cluster
densities.</p>
</div>
<div class="section level2">
<h2 id="cluster-size">Cluster Size<a class="anchor" aria-label="anchor" href="#cluster-size"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x100a</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">gaussian_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, dim <span class="op">=</span> <span class="fl">50</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="va">x1000b</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">gaussian_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span>, dim <span class="op">=</span> <span class="fl">50</span>, color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span></span>
<span><span class="va">x1000b</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x1000b</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x1000b</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span> <span class="op">+</span> <span class="fl">10</span></span>
<span><span class="va">x200</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">x100a</span>, <span class="va">x100b</span><span class="op">)</span></span>
<span><span class="va">x1100</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">x100a</span>, <span class="va">x1000b</span><span class="op">)</span></span></code></pre></div>
<p>As an aside, what about two clusters with the same density but
different numbers of points? Below is an example with two clusters with
equal sizes (100 points each), and then where the orange cluster
contains 1000 points:</p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img%2Fsimple%2F100_blue_100_orange.png" alt="100 blue 100 orange"></td>
<td align="center"><img src="img%2Fsimple%2F100_blue_1000_orange.png" alt="100 blue 1000 orange"></td>
</tr></tbody>
</table>
<p>From this example you can see that UMAP will display clusters with
more members as being larger. This can have implications for the
visualization if you have a minority class that you are most interested
in.</p>
</div>
<div class="section level2">
<h2 id="distances-between-clusters">Distances Between Clusters<a class="anchor" aria-label="anchor" href="#distances-between-clusters"></a>
</h2>
<p>In this example, we are back to gaussians with the same variances,
but now one of them (the green one) is much further away than the other
two.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss_3clusters</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">three_clusters_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span>, dim <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss3_orig.png" alt="gauss3 orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_nbrs3.png" alt="gauss3 nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_nbrs6.png" alt="gauss3 nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss3_nbrs30.png" alt="gauss3 nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_nbrs50.png" alt="gauss3 nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_nbrs100.png" alt="gauss3 nbrs100"></td>
</tr>
</tbody>
</table>
<p>There’s not really any value of <code>n_neighbors</code> where the
correct relative distances are reproduced. On the other hand, at least
we don’t see any strange distortion of the size of the green cluster at
high values for <code>n_neighbors</code>, where as the t-SNE results
start showing distortions at high perplexity.</p>
<p>We then repeat with a larger number of points in each cluster:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss_3clusters200</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">three_clusters_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">200</span>, dim <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss3_200_orig.png" alt="gauss3 200 orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_200_nbrs3.png" alt="gauss3 200 nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_200_nbrs6.png" alt="gauss3 200 nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss3_200_nbrs30.png" alt="gauss3 200 nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_200_nbrs50.png" alt="gauss3 200 nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss3_200_nbrs100.png" alt="gauss3 200 nbrs100"></td>
</tr>
</tbody>
</table>
<p>Results are very consistent with a sensible value of
<code>n_neighbors</code>, but it’s clear that UMAP does not reproduce
relative distances in this case.</p>
</div>
<div class="section level2">
<h2 id="random-noise">Random Noise<a class="anchor" aria-label="anchor" href="#random-noise"></a>
</h2>
<p>A single high-dimensional Guassian:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss100d</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">gaussian_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">500</span>, dim <span class="op">=</span> <span class="fl">100</span>, color <span class="op">=</span> <span class="st">"#003399"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss100_orig.png" alt="gauss100 orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss100_nbrs3.png" alt="gauss100 nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss100_nbrs6.png" alt="gauss100 nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss100_nbrs30.png" alt="gauss100 nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss100_nbrs50.png" alt="gauss100 nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss100_nbrs100.png" alt="gauss100 nbrs100"></td>
</tr>
</tbody>
</table>
<p>Again, we see t-SNE-like behavior: the density of points in the
projection is more even than the linear projection provided by PCA. It’s
also clear that low values of <code>n_neighbors</code> could mislead you
into seeing large numbers of small clusters that aren’t really
there.</p>
</div>
<div class="section level2">
<h2 id="elongated-shapes">Elongated Shapes<a class="anchor" aria-label="anchor" href="#elongated-shapes"></a>
</h2>
<p>An ellipsoidal cluster:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss_long</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">long_gaussian_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, dim <span class="op">=</span> <span class="fl">50</span>, color <span class="op">=</span> <span class="st">"#003399"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss_long_orig.png" alt="gauss long orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_long_nbrs3.png" alt="gauss long nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_long_nbrs6.png" alt="gauss long nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss_long_nbrs30.png" alt="gauss long nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_long_nbrs50.png" alt="gauss long nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_long_nbrs100.png" alt="gauss long nbrs100"></td>
</tr>
</tbody>
</table>
<p>Once again, UMAP behaves pretty well here as long as
<code>n_neighbors</code> is sufficiently high.</p>
<p>Now, here are two ellipsoidal clusters:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gauss_2long</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">long_cluster_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">75</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fgauss_2long_orig.png" alt="gauss 2long orig"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_2long_nbrs3.png" alt="gauss 2long nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_2long_nbrs6.png" alt="gauss 2long nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fgauss_2long_nbrs30.png" alt="gauss 2long nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_2long_nbrs50.png" alt="gauss 2long nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fgauss_2long_nbrs100.png" alt="gauss 2long nbrs100"></td>
</tr>
</tbody>
</table>
<p>The density distortion effect is also apparent here, causing the
clusters to curve.</p>
</div>
<div class="section level2">
<h2 id="topology">Topology<a class="anchor" aria-label="anchor" href="#topology"></a>
</h2>
<div class="section level3">
<h3 id="containment">Containment<a class="anchor" aria-label="anchor" href="#containment"></a>
</h3>
<p>In this dataset, there are two 50D gaussian clusters, centered over
the same location, but as the PCA plot on the top left row shows, the
blue cluster has a much smaller variance and so is “contained” inside
the yellow cluster.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">subset50d</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">subset_clusters_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">75</span>, dim <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Fsubset_orig.png" alt="subset orig"></td>
<td align="center"><img src="img%2Fsimple%2Fsubset_nbrs3.png" alt="subset nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Fsubset_nbrs6.png" alt="subset nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Fsubset_nbrs30.png" alt="subset nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Fsubset_nbrs50.png" alt="subset nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Fsubset_nbrs100.png" alt="subset nbrs100"></td>
</tr>
</tbody>
</table>
<p>At last a difference with the t-SNE results. With t-SNE, the
containment relationship can be displayed with a suitable choice of
perplexity, at the cost of the yellow cluster gaining a more ring-like
shape. UMAP, however, stubbornly refuses to show anything of the sort,
with the blue cluster expanded to overlap the yellow cluster even at the
higher values of <code>n_neighbors</code>.</p>
</div>
<div class="section level3">
<h3 id="linked-rings">Linked Rings<a class="anchor" aria-label="anchor" href="#linked-rings"></a>
</h3>
<p>2D linked rings, embedding into 3D (one is at right angles to the
other).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linked_rings</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">link_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Flink_orig.png" alt="link orig"></td>
<td align="center"><img src="img%2Fsimple%2Flink_nbrs3.png" alt="link nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Flink_nbrs6.png" alt="link nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Flink_nbrs30.png" alt="link nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Flink_nbrs50.png" alt="link nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Flink_nbrs100.png" alt="link nbrs100"></td>
</tr>
</tbody>
</table>
<p>The t-SNE results show the rings between separate at low perplexity,
and only linked at high perplexities. The UMAP results are always
unlinked except at a very low value of <code>n_neighbors</code>, and
even then this seems to be an artifact of the number of epochs and the
random seed. If you set <code>n_epochs</code> higher, then the rings
will be invariably unlinked.</p>
</div>
<div class="section level3">
<h3 id="trefoil-knot">Trefoil Knot<a class="anchor" aria-label="anchor" href="#trefoil-knot"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trefoil</span> <span class="op">&lt;-</span> <span class="fu">snedata</span><span class="fu">::</span><span class="fu">trefoil_data</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img%2Fsimple%2Ftrefoil_orig.png" alt="trefoil orig"></td>
<td align="center"><img src="img%2Fsimple%2Ftrefoil_nbrs3.png" alt="trefoil nbrs3"></td>
<td align="center"><img src="img%2Fsimple%2Ftrefoil_nbrs6.png" alt="trefoil nbrs6"></td>
</tr>
<tr class="even">
<td align="center"><img src="img%2Fsimple%2Ftrefoil_nbrs30.png" alt="trefoil nbrs30"></td>
<td align="center"><img src="img%2Fsimple%2Ftrefoil_nbrs50.png" alt="trefoil nbrs50"></td>
<td align="center"><img src="img%2Fsimple%2Ftrefoil_nbrs100.png" alt="trefoil nbrs100"></td>
</tr>
</tbody>
</table>
<p>Results here are quite similar to the t-SNE results. At low values of
<code>n_neighbors</code>, the knot is unfolded into a circle, and at
higher values, the folded form appears. As with the linked rings, the
results you get at low values of <code>n_neighbors</code> are more
consistent at higher values of <code>n_epochs</code>.</p>
<p>What are we to make of all this? Mainly, that the UMAP results are a
bit more consistent than that of t-SNE, in the sense that changing
<code>n_neighbors</code> doesn’t lead to very different results in the
way that changing <code>perplexity</code> does for t-SNE, although these
effects are mainly restricted to the three cluster and the containment
example. You may see this as an advantage to t-SNE. Personally, I am a
bit skeptical that you would see this sort of thing in real world
datasets.</p>
<p>It’s also worth noting that, like t-SNE:</p>
<ul>
<li>Inter-cluster distances are not reproduced.</li>
<li>Relative cluster sizes are not reproduced.</li>
<li>Denser regions of space are expanded more than less dense
parts.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Melville.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
