<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>lvish • uwot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="lvish">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">uwot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/uwot.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jlmelville/uwot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>lvish</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jlmelville/uwot/blob/master/vignettes/articles/lvish.Rmd" class="external-link"><code>vignettes/articles/lvish.Rmd</code></a></small>
      <div class="d-none name"><code>lvish.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="a-largevis-ish-method">A LargeVis-ish method<a class="anchor" aria-label="anchor" href="#a-largevis-ish-method"></a>
</h2>
<p>The <a href="https://arxiv.org/abs/1602.00370" class="external-link">LargeVis</a> method
(see also its <a href="https://github.com/lferry007/LargeVis" class="external-link">github</a>), is in many
respects a bridge between t-SNE and UMAP. It’s sufficiently close to
UMAP that <code>uwot</code> also offers a LargeVis-like method,
<code>lvish</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># perplexity, init and n_epoch values shown are the defaults</span></span>
<span><span class="co"># use perplexity instead of n_neighbors to control local neighborhood size</span></span>
<span><span class="va">mnist_lv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">mnist</span>, perplexity <span class="op">=</span> <span class="fl">50</span>, init <span class="op">=</span> <span class="st">"lvrand"</span>, n_epochs <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>                  verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># Make hilarious Lembas bread joke</span></span></code></pre></div>
<p>Although <code>lvish</code> is like the real LargeVis in terms of the
input weights, output weight function and gradient, and so should give
results that resemble the real thing, note that:</p>
<ul>
<li>Like the real LargeVis, matrix input data is normalized by centering
each column and then the entire matrix is scaled by dividing by the
maximum absolute value. This differs from <code>umap</code>, where no
scaling is carried out. Scaling can be controlled by the
<code>scale</code> parameter.</li>
<li>Nearest neighbor results are not refined via the neighbor expansion
method. The <code>search_k</code> parameter is twice as large than
Annoy’s default to compensate.</li>
<li>The other nearest neighbor index parameter, <code>n_trees</code>, is
not dynamically chosen based on data set size. In LargeVis, it ranges
between 10 (for N &lt; 100,000) and 100 (for N &gt; 5,000,000). The
<code>lvish</code> default of 50 would cover datasets up to N =
5,000,000, and combined with the default <code>search_k</code>, seems
suitable for the datasets I’ve looked at.</li>
<li>Negative edges are generated by uniform sampling of vertexes rather
than their degree ^ 0.75.</li>
<li>The default number of epochs is dataset-dependent, to generate the
same number of edge samples that would be used by the default settings
of the reference LargeVis implementation. This normally results in a
substantially longer run time than for <code>umap</code>. You may be
able to get away with fewer epochs, and using the UMAP initialization of
<code>init = "spectral"</code>, rather than the default Gaussian random
initialization (<code>init = "lvrand"</code>) can help.</li>
</ul>
<p>The left-hand image below is the result of running the official
LargeVis implementation on MNIST. The image on the right is that from
running <code>lvish</code> with its default settings (apart from setting
<code>n_threads = 8</code>). Given they were both initialized from
different random configurations, there’s no reason to believe they would
be identical, but they look pretty similar:</p>
<table class="table">
<colgroup>
<col width="53%">
<col width="46%">
</colgroup>
<tbody><tr class="odd">
<td><img src="img/lv/mnist-largevis.png" alt="mnist-largevis.png"></td>
<td><img src="img/lv/mnist-lvish.png" alt="mnist-lvish.png"></td>
</tr></tbody>
</table>
<p>Because the default number of neighbors is 3 times the
<code>perplexity</code>, and the default <code>perplexity = 50</code>,
the nearest neighbor search needs to find 150 nearest neighbors per data
point, an order of magnitude larger than the UMAP defaults. This leads
to a less sparse input graph and hence more edges to sample. Combined
with the increased number of epochs, expect <code>lvish</code> to be
slower than <code>umap</code>: with default single-threaded settings, it
took about 20 minutes to embed the MNIST data under the same
circumstances as described in the “Performance” section. With
<code>n_threads = 4</code>, it took 7 minutes. In addition, storing
those extra edges requires a lot more memory than the <code>umap</code>
defaults: my R session increased by around 3.2 GB, versus 1 GB for
<code>umap</code>.</p>
<p>As an alternative to the usual Gaussian input weight function, you
can use the k-nearest neighbor graph itself, by setting
<code>kernel = "knn"</code>. This will give each edge between neighbors
a uniform weight equal to 1/<code>perplexity</code>, which leads to each
row’s probability distribution having the target
<code>perplexity</code>. This matrix will then be symmetrized in the
usual way. The advantage of this is that the number of neighbors is
reduced to the same as the perplexity (indeed, the
<code>n_neighbors</code> parameter is ignored with this setting), and
leads to less memory usage and a faster runtime. You can also get away
with setting the perplexity to a much lower value than usual with this
kernel (e.g. <code>perplexity = 15</code>) and get closer to UMAP’s
performance. If you use the default LargeVis random initialization, you
will still need more epochs than UMAP, but you can still expect to see a
big improvement. Something like the following works for MNIST:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mnist_lv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">mnist</span>, kernel <span class="op">=</span> <span class="st">"knn"</span>, perplexity <span class="op">=</span> <span class="fl">15</span>, n_epochs <span class="op">=</span> <span class="fl">1500</span>,</span>
<span>                  init <span class="op">=</span> <span class="st">"lvrand"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="some-more-results">Some More Results<a class="anchor" aria-label="anchor" href="#some-more-results"></a>
</h2>
<p>For details on the datasets, and to compare with the output of UMAP
and t-SNE, see the <a href="https://jlmelville.github.io/uwot/articles/umap-examples.html">UMAP
examples gallery</a>.</p>
<div class="section level3">
<h3 id="gaussian-perplexity">Gaussian Perplexity<a class="anchor" aria-label="anchor" href="#gaussian-perplexity"></a>
</h3>
<p>As mentioned above, by default <code>lvish</code> uses a Gaussian
similarity function to determine perplexities, just like t-SNE. These
results are given below.</p>
<p>There are two images per dataset. The left-hand image uses a
perplexity of 15, which is similar to the sort of settings UMAP uses.
The right-hand image is for a perplexity of 50, which is the LargeVis
default.</p>
<p>The only other non-default settings was to use
<code>pca = 100</code>, which reduces the input dimensionality to
100.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_lv15</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">iris</span>, pca <span class="op">=</span> <span class="fl">100</span>, perplexity <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span><span class="va">iris_lv50</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">iris</span>, pca <span class="op">=</span> <span class="fl">100</span>, perplexity <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<p>Note that by default <code>lvish</code> uses a random initialization
and a much larger number of epochs to match the LargeVis defaults. This
makes the optimization take a lot longer than UMAP. LargeVis uses
multiple threads during the optimization phase, but <code>lvish</code>
does not, to ensure reproducibility of results with a fixed random seed.
To get multi-threaded performance like LargeVis, add the option,
<code>n_sgd_threads = "auto"</code>, e.g.:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_lv15</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">iris</span>, pca <span class="op">=</span> <span class="fl">100</span>, perplexity <span class="op">=</span> <span class="fl">15</span>, n_sgd_threads <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></span></code></pre></div>
<p>I would also suggest that you fix the number of epochs to a smaller
value initially and see if that provides an adequate visualization.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_lv15</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">iris</span>, pca <span class="op">=</span> <span class="fl">100</span>, perplexity <span class="op">=</span> <span class="fl">15</span>, n_sgd_threads <span class="op">=</span> <span class="st">"auto"</span>, n_epochs <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="iris">iris<a class="anchor" aria-label="anchor" href="#iris"></a>
</h4>
<table class="table"><tbody><tr class="odd">
<td align="center"><img src="img/lv/iris_p15.png" alt="iris p15"></td>
<td align="center"><img src="img/lv/iris_p50.png" alt="iris p50"></td>
</tr></tbody></table>
</div>
<div class="section level4">
<h4 id="s1k">s1k<a class="anchor" aria-label="anchor" href="#s1k"></a>
</h4>
<table class="table"><tbody><tr class="odd">
<td align="center"><img src="img/lv/s1k_p15.png" alt="s1k p15"></td>
<td align="center"><img src="img/lv/s1k_p50.png" alt="s1k p50"></td>
</tr></tbody></table>
</div>
<div class="section level4">
<h4 id="oli">oli<a class="anchor" aria-label="anchor" href="#oli"></a>
</h4>
<table class="table"><tbody><tr class="odd">
<td align="center"><img src="img/lv/oli_p15.png" alt="oli p15"></td>
<td align="center"><img src="img/lv/oli_p50.png" alt="oli p50"></td>
</tr></tbody></table>
</div>
<div class="section level4">
<h4 id="frey">frey<a class="anchor" aria-label="anchor" href="#frey"></a>
</h4>
<table class="table"><tbody><tr class="odd">
<td align="center"><img src="img/lv/frey_p15.png" alt="frey p15"></td>
<td align="center"><img src="img/lv/frey_p50.png" alt="frey p50"></td>
</tr></tbody></table>
</div>
<div class="section level4">
<h4 id="coil20">coil20<a class="anchor" aria-label="anchor" href="#coil20"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/coil20_p15.png" alt="coil20 p15"></td>
<td align="center"><img src="img/lv/coil20_p50.png" alt="coil20 p50"></td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="coil100">coil100<a class="anchor" aria-label="anchor" href="#coil100"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/coil100_p15.png" alt="coil100 p15"></td>
<td align="center"><img src="img/lv/coil100_p50.png" alt="coil100 p50"></td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="mnist">mnist<a class="anchor" aria-label="anchor" href="#mnist"></a>
</h4>
<table class="table"><tbody><tr class="odd">
<td align="center"><img src="img/lv/mnist_p15.png" alt="mnist p15"></td>
<td align="center"><img src="img/lv/mnist_p50.png" alt="mnist p50"></td>
</tr></tbody></table>
</div>
<div class="section level4">
<h4 id="fashion">fashion<a class="anchor" aria-label="anchor" href="#fashion"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/fashion_p15.png" alt="fashion p15"></td>
<td align="center"><img src="img/lv/fashion_p50.png" alt="fashion p50"></td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="kuzushiji">kuzushiji<a class="anchor" aria-label="anchor" href="#kuzushiji"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/kuzushiji_p15.png" alt="kuzushiji p15"></td>
<td align="center"><img src="img/lv/kuzushiji_p50.png" alt="kuzushiji p50"></td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="norb">norb<a class="anchor" aria-label="anchor" href="#norb"></a>
</h4>
<table class="table"><tbody><tr class="odd">
<td align="center"><img src="img/lv/norb_p15.png" alt="norb p15"></td>
<td align="center"><img src="img/lv/norb_p50.png" alt="norb p50"></td>
</tr></tbody></table>
</div>
<div class="section level4">
<h4 id="tasic2018">tasic2018<a class="anchor" aria-label="anchor" href="#tasic2018"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/tasic2018_p15.png" alt="tasic2018 p15"></td>
<td align="center"><img src="img/lv/tasic2018_p50.png" alt="tasic2018 p50"></td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="macosko2015">macosko2015<a class="anchor" aria-label="anchor" href="#macosko2015"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/macosko2015_p15.png" alt="macosko2015 p15"></td>
<td align="center"><img src="img/lv/macosko2015_p50.png" alt="macosko2015 p50"></td>
</tr></tbody>
</table>
<p>Default initialization in <code>lvish</code>, as with LargeVis and
t-SNE, is from a random distribution. As with t-SNE, you can see one
issue with that is that sometimes clusters get split up by another
cluster and are unable to re-merge. MNIST is the easiest example image
to see this in.</p>
<p>In general, there’s not a huge difference in the effect of increasing
perplexity, for larger datasets. For smaller datasets it’s apparent that
the resulting clusters tend to be more spread out with larger perplexity
values. The <code>norb</code> (<a href="https://cs.nyu.edu/~ylclab/data/norb-v1.0-small/" class="external-link">small NORB</a>)
dataset shows an obvious difference, where the
<code>perplexity = 15</code> results are clearly too low, and break up
the structures that are apparent at <code>perplexity = 50</code>. A
similar effect is seen when using UMAP, so I don’t think this is due to
the random initialization of <code>lvish</code> in this case. A
contributing factor is likely to be that the initial PCA dimensionality
reduction to 100 dimensions is too aggressive for NORB and reduces the
nearest neighbor accuracy, which is recovered at higher perplexities (as
this requires finding more near neighbors).</p>
<p>On the other hand, it’s hard to see what’s going on with the
<code>coil20</code> and especially the <code>coil100</code> results. If
you <em>could</em> see what was going on from the static images above,
it would be apparent that, in contrast to the <code>norb</code> results,
the <code>perplexity = 50</code> results are too high here, and the loop
structure of the clusters gets broken up.</p>
<p>The <code>coil100</code> and <code>coil20</code> results show an
issue with using LargeVis (and UMAP) that isn’t normally a problem with
t-SNE: the extra repulsion in their cost function can often spread the
data quite far apart compared to the cluster sizes. t-SNE has the
opposite problem of the clusters expanding into a large circular form
which makes discerning clusters harder as the datasets get larger, but
in a single static plot, I find the t-SNE results to be easier to
examine. For UMAP and <code>lvish</code>, you may have to resort to more
interactive means of examining the data, such as using the
<code>embed_plotly</code> function in <a href="https://github.com/jlmelville/vizier" class="external-link">vizier</a>.</p>
<p>An alternative for <code>lvish</code> is to modify the
<code>repulsion_strength</code> parameter (referred to as
<code>gamma</code> in LargeVis). The default value, <code>7</code> is
taken from the LargeVis paper but seems to have been chosen
empiricially. Here are results for <code>coil20</code> and
<code>perplexity = 50</code> with the repulsion reduced to
<code>repulsion_strength = 0.7</code> in the left image, and
<code>repulsion_strength = 0.07</code> on the right:</p>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody><tr class="odd">
<td align="center"><img src="img/lv/coil20_p50lr.png" alt="coil20 p50 r0.7"></td>
<td align="center"><img src="img/lv/coil20_p50vlr.png" alt="coil20 p50 r0.07"></td>
</tr></tbody>
</table>
<p>This helps a bit, but there are limits: the blue cluster on the right
remains an outlier, and reducing the <code>repulsion_strength</code> too
far causes some of the loops to shrink, as can be seen with the outlying
blue and black clusters for the right-hand plot.</p>
</div>
</div>
<div class="section level3">
<h3 id="knn-perplexity">KNN Perplexity<a class="anchor" aria-label="anchor" href="#knn-perplexity"></a>
</h3>
<p>As an alternative to using the Gaussian perplexities, you could use
the k-nearest neighbor graph directly, which involves setting the
similarity of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>j</mi><annotation encoding="application/x-tex">j</annotation></semantics></math>
to 1 if
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
is in the k-nearest neighbors of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>j</mi><annotation encoding="application/x-tex">j</annotation></semantics></math>,
and 0 otherwise. The usual t-SNE procedure of symmetrizing (but not the
normalization step) is then carried out. There are some t-SNE
implementations which use kNN-derived perplexities, e.g. <a href="http://proceedings.mlr.press/v38/yang15a.html" class="external-link">the
majorization-minimization approach of Yang and co-workers</a>.</p>
<p>The advantage of using the kNN kernel is that you get a sparser set
of edges, which due to <code>lvish</code> using the same formula for
determining the number of iterations required, results in a shorter run
time.</p>
<p>For the results below the kNN perplexities were used by setting
<code>kernel = "knn"</code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_lv15k</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">iris</span>, pca <span class="op">=</span> <span class="fl">100</span>, perplexity <span class="op">=</span> <span class="fl">15</span>, kernel <span class="op">=</span> <span class="st">"knn"</span><span class="op">)</span></span>
<span><span class="va">iris_lv50k</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lvish.html">lvish</a></span><span class="op">(</span><span class="va">iris</span>, pca <span class="op">=</span> <span class="fl">100</span>, perplexity <span class="op">=</span> <span class="fl">50</span>, kernel <span class="op">=</span> <span class="st">"knn"</span><span class="op">)</span></span></code></pre></div>
<p>For comparison, the top row of images use the same settings as in the
previous section with Gaussian perplexities, and the bottom row show the
results for using the kNN kernel. The run time for each embedding is
given in the image. I used version 0.1.3 of <code>uwot</code> from
CRAN.</p>
<div class="section level4">
<h4 id="iris-1">iris<a class="anchor" aria-label="anchor" href="#iris-1"></a>
</h4>
<table class="table"><tbody>
<tr class="odd">
<td align="center"><img src="img/lv/iris_p15g.png" alt="iris p15g"></td>
<td align="center"><img src="img/lv/iris_p50g.png" alt="iris p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/iris_p15k.png" alt="iris p15k"></td>
<td align="center"><img src="img/lv/iris_p50k.png" alt="iris p50k"></td>
</tr>
</tbody></table>
</div>
<div class="section level4">
<h4 id="s1k-1">s1k<a class="anchor" aria-label="anchor" href="#s1k-1"></a>
</h4>
<table class="table"><tbody>
<tr class="odd">
<td align="center"><img src="img/lv/s1k_p15g.png" alt="s1k p15g"></td>
<td align="center"><img src="img/lv/s1k_p50g.png" alt="s1k p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/s1k_p15k.png" alt="s1k p15k"></td>
<td align="center"><img src="img/lv/s1k_p50k.png" alt="s1k p50k"></td>
</tr>
</tbody></table>
</div>
<div class="section level4">
<h4 id="oli-1">oli<a class="anchor" aria-label="anchor" href="#oli-1"></a>
</h4>
<table class="table"><tbody>
<tr class="odd">
<td align="center"><img src="img/lv/oli_p15g.png" alt="oli p15g"></td>
<td align="center"><img src="img/lv/oli_p50g.png" alt="oli p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/oli_p15k.png" alt="oli p15k"></td>
<td align="center"><img src="img/lv/oli_p50k.png" alt="oli p50k"></td>
</tr>
</tbody></table>
</div>
<div class="section level4">
<h4 id="frey-1">frey<a class="anchor" aria-label="anchor" href="#frey-1"></a>
</h4>
<table class="table"><tbody>
<tr class="odd">
<td align="center"><img src="img/lv/frey_p15g.png" alt="frey p15g"></td>
<td align="center"><img src="img/lv/frey_p50g.png" alt="frey p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/frey_p15k.png" alt="frey p15k"></td>
<td align="center"><img src="img/lv/frey_p50k.png" alt="frey p50k"></td>
</tr>
</tbody></table>
</div>
<div class="section level4">
<h4 id="coil20-1">coil20<a class="anchor" aria-label="anchor" href="#coil20-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/coil20_p15g.png" alt="coil20 p15g"></td>
<td align="center"><img src="img/lv/coil20_p50g.png" alt="coil20 p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/coil20_p15k.png" alt="coil20 p15k"></td>
<td align="center"><img src="img/lv/coil20_p50k.png" alt="coil20 p50k"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="coil100-1">coil100<a class="anchor" aria-label="anchor" href="#coil100-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/coil100_p15g.png" alt="coil100 p15g"></td>
<td align="center"><img src="img/lv/coil100_p50g.png" alt="coil100 p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/coil100_p15k.png" alt="coil100 p15k"></td>
<td align="center"><img src="img/lv/coil100_p50k.png" alt="coil100 p50k"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="mnist-1">mnist<a class="anchor" aria-label="anchor" href="#mnist-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/mnist_p15g.png" alt="mnist p15g"></td>
<td align="center"><img src="img/lv/mnist_p50g.png" alt="mnist p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/mnist_p15k.png" alt="mnist p15k"></td>
<td align="center"><img src="img/lv/mnist_p50k.png" alt="mnist p50k"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="fashion-1">fashion<a class="anchor" aria-label="anchor" href="#fashion-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/fashion_p15g.png" alt="fashion p15g"></td>
<td align="center"><img src="img/lv/fashion_p50g.png" alt="fashion p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/fashion_p15k.png" alt="fashion p15k"></td>
<td align="center"><img src="img/lv/fashion_p50k.png" alt="fashion p50k"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="kuzushiji-1">kuzushiji<a class="anchor" aria-label="anchor" href="#kuzushiji-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/kuzushiji_p15g.png" alt="kuzushiji p15g"></td>
<td align="center"><img src="img/lv/kuzushiji_p50g.png" alt="kuzushiji p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/kuzushiji_p15k.png" alt="kuzushiji p15k"></td>
<td align="center"><img src="img/lv/kuzushiji_p50k.png" alt="kuzushiji p50k"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="norb-1">norb<a class="anchor" aria-label="anchor" href="#norb-1"></a>
</h4>
<table class="table"><tbody>
<tr class="odd">
<td align="center"><img src="img/lv/norb_p15g.png" alt="norb p15g"></td>
<td align="center"><img src="img/lv/norb_p50g.png" alt="norb p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/norb_p15k.png" alt="norb p15k"></td>
<td align="center"><img src="img/lv/norb_p50k.png" alt="norb p50k"></td>
</tr>
</tbody></table>
</div>
<div class="section level4">
<h4 id="tasic2018-1">tasic2018<a class="anchor" aria-label="anchor" href="#tasic2018-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/tasic2018_p15g.png" alt="tasic2018 p15g"></td>
<td align="center"><img src="img/lv/tasic2018_p50g.png" alt="tasic2018 p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/tasic2018_p15k.png" alt="tasic2018 p15k"></td>
<td align="center"><img src="img/lv/tasic2018_p50k.png" alt="tasic2018 p50k"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="macosko2015-1">macosko2015<a class="anchor" aria-label="anchor" href="#macosko2015-1"></a>
</h4>
<table class="table">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<tbody>
<tr class="odd">
<td align="center"><img src="img/lv/macosko2015_p15g.png" alt="macosko2015 p15g"></td>
<td align="center"><img src="img/lv/macosko2015_p50g.png" alt="macosko2015 p50g"></td>
</tr>
<tr class="even">
<td align="center"><img src="img/lv/macosko2015_p15k.png" alt="macosko2015 p15k"></td>
<td align="center"><img src="img/lv/macosko2015_p50k.png" alt="macosko2015 p50k"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusions">Conclusions<a class="anchor" aria-label="anchor" href="#conclusions"></a>
</h2>
<p>For smaller datasets, the kNN kernel gives noticeably different
results to the Gaussian perplexity, particularly for
<code>perplexity = 50</code>. For <code>iris</code>, <code>s1k</code>
and <code>oli</code>, the trend seems to be that the results are more
expanded with the kNN kernel. For <code>frey</code>, <code>coil20</code>
and <code>coil100</code>, the clusters are more separated.</p>
<p>For the larger datasets, the difference in behavior is less
pronounced, although the <code>macosko2015</code> results show a larger
cluster separation as well.</p>
<p>The good new is that for all cases, the run times are noticeably
reduced.</p>
<p>So for larger datasets, using <code>kernel = "knn"</code> seems to be
an ok choice for reducing the runtime of <code>lvish</code>. It also
seems that you may want to use a smaller value of the
<code>perplexity</code> than you would with a Gaussian perplexity, which
further reduces the runtime. For smaller datasets, results are more
mixed. It seems that a smaller <code>perplexity</code> in this case is
definitely to be preferred.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Melville.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
