<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The Uniform Manifold Approximation and Projection (UMAP) Method for Dimensionality Reduction • uwot</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><script src="extra.js"></script><meta property="og:title" content="The Uniform Manifold Approximation and Projection (UMAP) Method for Dimensionality Reduction">
<meta name="description" content="An implementation of the Uniform Manifold Approximation and Projection dimensionality reduction by McInnes et al. (2018) &lt;doi:10.48550/arXiv.1802.03426&gt;. It also provides means to transform new data and to carry out supervised dimensionality reduction. An implementation of the related LargeVis method of Tang et al. (2016) &lt;doi:10.48550/arXiv.1602.00370&gt; is also provided. This is a complete re-implementation in R (and C++, via the Rcpp package): no Python installation is required. See the uwot website (&lt;https://github.com/jlmelville/uwot&gt;) for more documentation and examples.">
<meta property="og:description" content="An implementation of the Uniform Manifold Approximation and Projection dimensionality reduction by McInnes et al. (2018) &lt;doi:10.48550/arXiv.1802.03426&gt;. It also provides means to transform new data and to carry out supervised dimensionality reduction. An implementation of the related LargeVis method of Tang et al. (2016) &lt;doi:10.48550/arXiv.1602.00370&gt; is also provided. This is a complete re-implementation in R (and C++, via the Rcpp package): no Python installation is required. See the uwot website (&lt;https://github.com/jlmelville/uwot&gt;) for more documentation and examples.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">uwot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/uwot.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jlmelville/uwot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="uwot">uwot<a class="anchor" aria-label="anchor" href="#uwot"></a>
</h1></div>
<!-- badges: start -->

<p>An R implementation of the <a href="https://arxiv.org/abs/1802.03426" class="external-link">Uniform Manifold Approximation and Projection (UMAP)</a> method for dimensionality reduction of McInnes et al. (2018). Also included are the supervised and metric (out-of-sample) learning extensions to the basic method. Translated from the <a href="https://github.com/lmcinnes/umap" class="external-link">Python implementation</a>.</p>
<div class="section level2">
<h2 id="news">News<a class="anchor" aria-label="anchor" href="#news"></a>
</h2>
<p><em>February 24 2025</em> <code>uwot</code> version 0.2.3 has been released to CRAN. This release mainly fixes some bugs, including one that was causing an error with an upcoming version of R-devel. One new feature: set <code>rng_type = "deterministic"</code> to use a deterministic sampling of vertices during the optimization phase which will give faster and more reproducible output at the cost of accuracy. The idea for this came straight from <a href="https://www.reddit.com/r/MachineLearning/comments/1gsjfq9/comment/lxip9wy/" class="external-link">Leland McInnes via Reddit</a>.</p>
<p><em>April 21 2024</em> As ordained by prophecy, version 0.2.2 of <code>uwot</code> has been released to CRAN. <code>RSpectra</code> is back as a main dependency and I <em>thought</em> I had worked out a clever scheme to avoid the failures seen in some installations with the <code>irlba</code>/<code>Matrix</code> interactions. This releases fixes the problem on all the systems I have access to (including GitHub Actions CI) but some CRAN checks remain failing. How embarrassing. That said, if you have had issues, it’s possible this new release will help you too.</p>
</div>
<div class="section level2">
<h2 id="installing">Installing<a class="anchor" aria-label="anchor" href="#installing"></a>
</h2>
<div class="section level3">
<h3 id="from-cran">From CRAN<a class="anchor" aria-label="anchor" href="#from-cran"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"uwot"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="from-github">From github<a class="anchor" aria-label="anchor" href="#from-github"></a>
</h3>
<p><code>uwot</code> makes use of C++ code which must be compiled. You may have to carry out a few extra steps before being able to build this package:</p>
<p><strong>Windows</strong>: install <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">Rtools</a> and ensure <code>C:\Rtools\bin</code> is on your path.</p>
<p><strong>Mac OS X</strong>: using a custom <code>~/.R/Makevars</code> <a href="https://github.com/jlmelville/uwot/issues/1" class="external-link">may cause linking errors</a>. This sort of thing is a potential problem on all platforms but seems to bite Mac owners more. <a href="https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Installation-of-source-packages" class="external-link">The R for Mac OS X FAQ</a> may be helpful here to work out what you can get away with. To be on the safe side, I would advise building <code>uwot</code> without a custom <code>Makevars</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jlmelville/uwot"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jlmelville/uwot" class="external-link">uwot</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># umap2 is a version of the umap() function with better defaults</span></span>
<span><span class="va">iris_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># but you can still use the umap function (which most of the existing </span></span>
<span><span class="co"># documentation does)</span></span>
<span><span class="va">iris_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/umap.html">umap</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load mnist from somewhere, e.g.</span></span>
<span><span class="co"># devtools::install_github("jlmelville/snedata")</span></span>
<span><span class="co"># mnist &lt;- snedata::download_mnist()</span></span>
<span></span>
<span><span class="va">mnist_umap</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/umap.html">umap</a></span><span class="op">(</span><span class="va">mnist</span>, n_neighbors <span class="op">=</span> <span class="fl">15</span>, min_dist <span class="op">=</span> <span class="fl">0.001</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">mnist_umap</span>,</span>
<span>  cex <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  col <span class="op">=</span> <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">mnist</span><span class="op">$</span><span class="va">Label</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">mnist</span><span class="op">$</span><span class="va">Label</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/adjustcolor.html" class="external-link">adjustcolor</a></span><span class="op">(</span>alpha.f <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"R uwot::umap"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># I recommend the following optional packages</span></span>
<span><span class="co"># for faster or more flexible nearest neighbor search:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RcppHNSW"</span>, <span class="st">"rnndescent"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jlmelville/rcpphnsw" class="external-link">RcppHNSW</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jlmelville.github.io/rnndescent/" class="external-link">rnndescent</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Installing RcppHNSW will allow the use of the usually faster HNSW method:</span></span>
<span><span class="va">mnist_umap_hnsw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/umap.html">umap</a></span><span class="op">(</span><span class="va">mnist</span>, n_neighbors <span class="op">=</span> <span class="fl">15</span>, min_dist <span class="op">=</span> <span class="fl">0.001</span>, </span>
<span>                        nn_method <span class="op">=</span> <span class="st">"hnsw"</span><span class="op">)</span></span>
<span><span class="co"># nndescent is also available</span></span>
<span><span class="va">mnist_umap_nnd</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/umap.html">umap</a></span><span class="op">(</span><span class="va">mnist</span>, n_neighbors <span class="op">=</span> <span class="fl">15</span>, min_dist <span class="op">=</span> <span class="fl">0.001</span>, </span>
<span>                       nn_method <span class="op">=</span> <span class="st">"nndescent"</span><span class="op">)</span></span>
<span><span class="co"># umap2 will choose HNSW by default if available</span></span>
<span><span class="va">mnist_umap2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/umap2.html">umap2</a></span><span class="op">(</span><span class="va">mnist</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="reference/figures/mnist-r.png" alt="MNIST UMAP"><div class="figcaption">MNIST UMAP</div>
</div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<p><a href="https://jlmelville.github.io/uwot/" class="uri">https://jlmelville.github.io/uwot/</a>. For more examples see the <a href="https://jlmelville.github.io/uwot/articles/uwot.html">get started</a> doc. There are plenty of <a href="https://jlmelville.github.io/uwot/articles/index.html">articles</a> describing various aspects of the package.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p><a href="https://www.gnu.org/licenses/gpl-3.0.txt" class="external-link">GPLv3 or later</a>.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you want to cite the use of uwot, then use the output of running <code>citation("uwot")</code> (you can do this with any R package).</p>
</div>
<div class="section level2">
<h2 id="see-also">See Also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>The <a href="https://github.com/lmcinnes/umap" class="external-link">UMAP reference implementation</a> and <a href="https://arxiv.org/abs/1802.03426" class="external-link">publication</a>.</li>
<li>The <a href="https://cran.r-project.org/package=umap" class="external-link">UMAP R package</a> (see also its <a href="https://github.com/tkonopka/umap" class="external-link">github repo</a>), predates <code>uwot</code>’s arrival on CRAN.</li>
<li>Another R package is <a href="https://github.com/ropensci-archive/umapr" class="external-link">umapr</a>, but it is no longer being maintained.</li>
<li>
<a href="https://github.com/libscran/umappp" class="external-link">umappp</a> is a full C++ implementation, and <a href="https://github.com/LTLA/yaumap" class="external-link">yaumap</a> provides an R wrapper. The batch implementation in umappp are the basis for uwot’s attempt at the same.</li>
<li>
<code>uwot</code> uses the <a href="https://cran.r-project.org/package=RcppProgress" class="external-link">RcppProgress</a> package to show a text-based progress bar when <code>verbose = TRUE</code>.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=uwot" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/jlmelville/uwot/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jlmelville/uwot/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing uwot</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James Melville <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jlmelville/uwot/actions" class="external-link"><img src="https://github.com/jlmelville/uwot/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://ci.appveyor.com/project/jlmelville/uwot" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/github/jlmelville/uwot?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://app.codecov.io/github/jlmelville/uwot?branch=master" class="external-link"><img src="https://img.shields.io/codecov/c/github/jlmelville/uwot/master.svg" alt="Coverage Status"></a></li>
<li><a href="https://cran.r-project.org/package=uwot" class="external-link"><img src="https://www.r-pkg.org/badges/version/uwot" alt="CRAN Status Badge"></a></li>
<li><a href="https://cran.r-project.org/package=uwot" class="external-link"><img src="https://tinyverse.netlify.app/badge/uwot" alt="Dependencies"></a></li>
<li><a href="https://www.r-pkg.org/pkg/uwot" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/uwot?color=brightgreen" alt="Downloads (monthly)"></a></li>
<li><a href="https://www.r-pkg.org/pkg/uwot" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/uwot?color=brightgreen" alt="Downloads (total)"></a></li>
<li><a href="https://github.com/jlmelville/uwot" class="external-link"><img src="https://img.shields.io/github/last-commit/jlmelville/uwot" alt="Last Commit"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Melville.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
